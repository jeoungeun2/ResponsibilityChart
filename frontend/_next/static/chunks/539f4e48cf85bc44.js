(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,29941,e=>{"use strict";e.s(["default",()=>$],29941);var t,a,r,l,s,n,i=e.i(1856),o=e.i(18071),u=e.i(23231),c=e.i(76054),d=e.i(36927),h=e.i(50475),p=e.i(42297),m=e.i(74754),y=e.i(82255),b=e.i(29429),f=e.i(67321),v=e.i(84248),g=(t=new WeakMap,a=new WeakMap,r=new WeakMap,l=new WeakMap,s=new WeakSet,n=new WeakSet,class extends f.Subscribable{bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var a;let l=this.options;this.options=(0,c._)(this,t).defaultMutationOptions(e),(0,v.shallowEqualObjects)(this.options,l)||(0,c._)(this,t).getMutationCache().notify({type:"observerOptionsUpdated",mutation:(0,c._)(this,r),observer:this}),(null==l?void 0:l.mutationKey)&&this.options.mutationKey&&(0,v.hashKey)(l.mutationKey)!==(0,v.hashKey)(this.options.mutationKey)?this.reset():(null==(a=(0,c._)(this,r))?void 0:a.state.status)==="pending"&&(0,c._)(this,r).setOptions(this.options)}onUnsubscribe(){if(!this.hasListeners()){var e;null==(e=(0,c._)(this,r))||e.removeObserver(this)}}onMutationUpdate(e){(0,p._)(this,s,x).call(this),(0,p._)(this,n,w).call(this,e)}getCurrentResult(){return(0,c._)(this,a)}reset(){var e;null==(e=(0,c._)(this,r))||e.removeObserver(this),(0,h._)(this,r,void 0),(0,p._)(this,s,x).call(this),(0,p._)(this,n,w).call(this)}mutate(e,a){var s;return(0,h._)(this,l,a),null==(s=(0,c._)(this,r))||s.removeObserver(this),(0,h._)(this,r,(0,c._)(this,t).getMutationCache().build((0,c._)(this,t),this.options)),(0,c._)(this,r).addObserver(this),(0,c._)(this,r).execute(e)}constructor(e,i){super(),(0,m._)(this,s),(0,m._)(this,n),(0,d._)(this,t,{writable:!0,value:void 0}),(0,d._)(this,a,{writable:!0,value:void 0}),(0,d._)(this,r,{writable:!0,value:void 0}),(0,d._)(this,l,{writable:!0,value:void 0}),(0,h._)(this,t,e),this.setOptions(i),this.bindMethods(),(0,p._)(this,s,x).call(this)}});function x(){var e,t;let l=null!=(t=null==(e=(0,c._)(this,r))?void 0:e.state)?t:(0,y.getDefaultState)();(0,h._)(this,a,{...l,isPending:"pending"===l.status,isSuccess:"success"===l.status,isError:"error"===l.status,isIdle:"idle"===l.status,mutate:this.mutate,reset:this.reset})}function w(e){b.notifyManager.batch(()=>{if((0,c._)(this,l)&&this.hasListeners()){var t,r,s,n,i,o,u,d;let h=(0,c._)(this,a).variables,p=(0,c._)(this,a).context;(null==e?void 0:e.type)==="success"?(null==(t=(r=(0,c._)(this,l)).onSuccess)||t.call(r,e.data,h,p),null==(s=(n=(0,c._)(this,l)).onSettled)||s.call(n,e.data,null,h,p)):(null==e?void 0:e.type)==="error"&&(null==(i=(o=(0,c._)(this,l)).onError)||i.call(o,e.error,h,p),null==(u=(d=(0,c._)(this,l)).onSettled)||u.call(d,void 0,e.error,h,p))}this.listeners.forEach(e=>{e((0,c._)(this,a))})})}var j=e.i(75052);function S(e,t){let a=(0,j.useQueryClient)(t),[r]=u.useState(()=>new g(a,e));u.useEffect(()=>{r.setOptions(e)},[r,e]);let l=u.useSyncExternalStore(u.useCallback(e=>r.subscribe(b.notifyManager.batchCalls(e)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=u.useCallback((e,t)=>{r.mutate(e,t).catch(v.noop)},[r]);if(l.error&&(0,v.shouldThrowError)(r.options.throwOnError,[l.error]))throw l.error;return{...l,mutate:s,mutateAsync:l.mutate}}var N=e.i(50324),_=e.i(14390),T=e.i(46371),k=e.i(72233),E=e.i(43260),C=e.i(7156),A=e.i(85871);let O={bodySerializer:e=>JSON.stringify(e,(e,t)=>"bigint"==typeof t?t.toString():t)};Object.entries({$body_:"body",$headers_:"headers",$path_:"path",$query_:"query"});let D=async(e,t)=>{let a="function"==typeof t?await t(e):t;if(a)return"bearer"===e.scheme?"Bearer ".concat(a):"basic"===e.scheme?"Basic ".concat(btoa(a)):a},L=e=>{let{allowReserved:t,explode:a,name:r,style:l,value:s}=e;if(!a){let e=(t?s:s.map(e=>encodeURIComponent(e))).join((e=>{switch(e){case"form":default:return",";case"pipeDelimited":return"|";case"spaceDelimited":return"%20"}})(l));switch(l){case"label":return".".concat(e);case"matrix":return";".concat(r,"=").concat(e);case"simple":return e;default:return"".concat(r,"=").concat(e)}}let n=(e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}})(l),i=s.map(e=>"label"===l||"simple"===l?t?e:encodeURIComponent(e):R({allowReserved:t,name:r,value:e})).join(n);return"label"===l||"matrix"===l?n+i:i},R=e=>{let{allowReserved:t,name:a,value:r}=e;if(null==r)return"";if("object"==typeof r)throw Error("Deeply-nested arrays/objects aren’t supported. Provide your own `querySerializer()` to handle these.");return"".concat(a,"=").concat(t?r:encodeURIComponent(r))},q=e=>{let{allowReserved:t,explode:a,name:r,style:l,value:s,valueOnly:n}=e;if(s instanceof Date)return n?s.toISOString():"".concat(r,"=").concat(s.toISOString());if("deepObject"!==l&&!a){let e=[];Object.entries(s).forEach(a=>{let[r,l]=a;e=[...e,r,t?l:encodeURIComponent(l)]});let a=e.join(",");switch(l){case"form":return"".concat(r,"=").concat(a);case"label":return".".concat(a);case"matrix":return";".concat(r,"=").concat(a);default:return a}}let i=(e=>{switch(e){case"label":return".";case"matrix":return";";case"simple":return",";default:return"&"}})(l),o=Object.entries(s).map(e=>{let[a,s]=e;return R({allowReserved:t,name:"deepObject"===l?"".concat(r,"[").concat(a,"]"):a,value:s})}).join(i);return"label"===l||"matrix"===l?i+o:o},P=/\{[^{}]+\}/g,I=function(){let{allowReserved:e,array:t,object:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r=>{let l=[];if(r&&"object"==typeof r)for(let s in r){let n=r[s];if(null!=n)if(Array.isArray(n)){let a=L({allowReserved:e,explode:!0,name:s,style:"form",value:n,...t});a&&l.push(a)}else if("object"==typeof n){let t=q({allowReserved:e,explode:!0,name:s,style:"deepObject",value:n,...a});t&&l.push(t)}else{let t=R({allowReserved:e,name:s,value:n});t&&l.push(t)}}return l.join("&")}},W=(e,t)=>{var a,r;return!!t&&!!(e.headers.has(t)||(null==(a=e.query)?void 0:a[t])||(null==(r=e.headers.get("Cookie"))?void 0:r.includes("".concat(t,"="))))},U=async e=>{let{security:t,...a}=e;for(let e of t){var r;if(W(a,e.name))continue;let t=await D(e,a.auth);if(!t)continue;let l=null!=(r=e.name)?r:"Authorization";switch(e.in){case"query":a.query||(a.query={}),a.query[l]=t;break;case"cookie":a.headers.append("Cookie","".concat(l,"=").concat(t));break;default:a.headers.set(l,t)}}},M=e=>z({baseUrl:e.baseUrl,path:e.path,query:e.query,querySerializer:"function"==typeof e.querySerializer?e.querySerializer:I(e.querySerializer),url:e.url}),z=e=>{let{baseUrl:t,path:a,query:r,querySerializer:l,url:s}=e,n=(null!=t?t:"")+(s.startsWith("/")?s:"/".concat(s));a&&(n=(e=>{let{path:t,url:a}=e,r=a,l=a.match(P);if(l)for(let e of l){let a=!1,l=e.substring(1,e.length-1),s="simple";l.endsWith("*")&&(a=!0,l=l.substring(0,l.length-1)),l.startsWith(".")?(l=l.substring(1),s="label"):l.startsWith(";")&&(l=l.substring(1),s="matrix");let n=t[l];if(null==n)continue;if(Array.isArray(n)){r=r.replace(e,L({explode:a,name:l,style:s,value:n}));continue}if("object"==typeof n){r=r.replace(e,q({explode:a,name:l,style:s,value:n,valueOnly:!0}));continue}if("matrix"===s){r=r.replace(e,";".concat(R({name:l,value:n})));continue}let i=encodeURIComponent("label"===s?".".concat(n):n);r=r.replace(e,i)}return r})({path:a,url:n}));let i=r?l(r):"";return i.startsWith("?")&&(i=i.substring(1)),i&&(n+="?".concat(i)),n},F=(e,t)=>{var a;let r={...e,...t};return(null==(a=r.baseUrl)?void 0:a.endsWith("/"))&&(r.baseUrl=r.baseUrl.substring(0,r.baseUrl.length-1)),r.headers=K(e.headers,t.headers),r},K=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];let r=new Headers;for(let e of t)if(e&&"object"==typeof e)for(let[t,a]of e instanceof Headers?e.entries():Object.entries(e))if(null===a)r.delete(t);else if(Array.isArray(a))for(let e of a)r.append(t,e);else void 0!==a&&r.set(t,"object"==typeof a?JSON.stringify(a):a);return r};class B{clear(){this._fns=[]}getInterceptorIndex(e){return"number"==typeof e?this._fns[e]?e:-1:this._fns.indexOf(e)}exists(e){let t=this.getInterceptorIndex(e);return!!this._fns[t]}eject(e){let t=this.getInterceptorIndex(e);this._fns[t]&&(this._fns[t]=null)}update(e,t){let a=this.getInterceptorIndex(e);return!!this._fns[a]&&(this._fns[a]=t,e)}use(e){return this._fns=[...this._fns,e],this._fns.length-1}constructor(){!function(e,t,a){t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a}(this,"_fns",void 0),this._fns=[]}}let H=I({allowReserved:!1,array:{explode:!0,style:"form"},object:{explode:!0,style:"deepObject"}}),Q={"Content-Type":"application/json"},G=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{...O,headers:Q,parseAs:"auto",querySerializer:H,...e}},V=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=F(G(),e),a=()=>({...t}),r={error:new B,request:new B,response:new B},l=async e=>{var a,r;let l={...t,...e,fetch:null!=(r=null!=(a=e.fetch)?a:t.fetch)?r:globalThis.fetch,headers:K(t.headers,e.headers),serializedBody:void 0};l.security&&await U({...l,security:l.security}),l.requestValidator&&await l.requestValidator(l),l.body&&l.bodySerializer&&(l.serializedBody=l.bodySerializer(l.body)),(void 0===l.serializedBody||""===l.serializedBody)&&l.headers.delete("Content-Type");let s=M(l);return{opts:l,url:s}},s=async e=>{let t,{opts:a,url:s}=await l(e);for(let e of r.request._fns)e&&await e(a);let n=a.fetch,i=await n(s,{...a,body:a.serializedBody});for(let e of r.response._fns)e&&(i=await e(i,a));let o={response:i};if(i.ok){var u;let e;if(204===i.status||"0"===i.headers.get("Content-Length"))return{data:{},...o};let t=null!=(u="auto"===a.parseAs?(e=>{var t;if(!e)return"stream";let a=null==(t=e.split(";")[0])?void 0:t.trim();if(a){if(a.startsWith("application/json")||a.endsWith("+json"))return"json";if("multipart/form-data"===a)return"formData";if(["application/","audio/","image/","video/"].some(e=>a.startsWith(e)))return"blob";if(a.startsWith("text/"))return"text"}})(i.headers.get("Content-Type")):a.parseAs)?u:"json";switch(t){case"arrayBuffer":case"blob":case"formData":case"json":case"text":e=await i[t]();break;case"stream":return{data:i.body,...o}}return"json"===t&&(a.responseValidator&&await a.responseValidator(e),a.responseTransformer&&(e=await a.responseTransformer(e))),{data:e,...o}}let c=await i.text();try{t=JSON.parse(c)}catch(e){}let d=null!=t?t:c,h=d;for(let e of r.error._fns)e&&(h=await e(d,i,a));if(h=h||{},a.throwOnError)throw h;return{error:h,...o}},n=e=>t=>s({...t,method:e}),i=e=>async t=>{let{opts:a,url:r}=await l(t);return(e=>{let t,{onSseError:a,onSseEvent:r,responseTransformer:l,responseValidator:s,sseDefaultRetryDelay:n,sseMaxRetryAttempts:i,sseMaxRetryDelay:o,sseSleepFn:u,url:c,...d}=e,h=null!=u?u:e=>new Promise(t=>setTimeout(t,e));return{stream:async function*(){var e,u;let p=null!=n?n:3e3,m=0,y=null!=(e=d.signal)?e:new AbortController().signal;for(;!y.aborted;){m++;let e=d.headers instanceof Headers?d.headers:new Headers(d.headers);void 0!==t&&e.set("Last-Event-ID",t);try{let a=await fetch(c,{...d,headers:e,signal:y});if(!a.ok)throw Error("SSE failed: ".concat(a.status," ").concat(a.statusText));if(!a.body)throw Error("No body in SSE response");let n=a.body.pipeThrough(new TextDecoderStream).getReader(),i="",o=()=>{try{n.cancel()}catch(e){}};y.addEventListener("abort",o);try{for(;;){let{done:e,value:a}=await n.read();if(e)break;let o=(i+=a).split("\n\n");for(let e of(i=null!=(u=o.pop())?u:"",o)){let a,n,i=e.split("\n"),o=[];for(let e of i)if(e.startsWith("data:"))o.push(e.replace(/^data:\s*/,""));else if(e.startsWith("event:"))a=e.replace(/^event:\s*/,"");else if(e.startsWith("id:"))t=e.replace(/^id:\s*/,"");else if(e.startsWith("retry:")){let t=Number.parseInt(e.replace(/^retry:\s*/,""),10);Number.isNaN(t)||(p=t)}let u=!1;if(o.length){let e=o.join("\n");try{n=JSON.parse(e),u=!0}catch(t){n=e}}u&&(s&&await s(n),l&&(n=await l(n))),null==r||r({data:n,event:a,id:t,retry:p}),o.length&&(yield n)}}}finally{y.removeEventListener("abort",o),n.releaseLock()}break}catch(t){if(null==a||a(t),void 0!==i&&m>=i)break;let e=Math.min(p*2**(m-1),null!=o?o:3e4);await h(e)}}}()}})({...a,body:a.body,headers:a.headers,method:e,url:r})};return{buildUrl:M,connect:n("CONNECT"),delete:n("DELETE"),get:n("GET"),getConfig:a,head:n("HEAD"),interceptors:r,options:n("OPTIONS"),patch:n("PATCH"),post:n("POST"),put:n("PUT"),request:s,setConfig:e=>(t=F(t,e),a()),sse:{connect:i("CONNECT"),delete:i("DELETE"),get:i("GET"),head:i("HEAD"),options:i("OPTIONS"),patch:i("PATCH"),post:i("POST"),put:i("PUT"),trace:i("TRACE")},trace:n("TRACE")}}({...G(),baseUrl:"/api/backend",fetch:(e,t)=>window.fetch(e,t)}),J=e=>{var t;return(null!=(t=e.client)?t:V).delete({security:[{scheme:"bearer",type:"http"}],url:"/executives/{id}",...e})};function $(){let{data:e,status:t}=(0,N.useSession)(),a="authenticated"===t&&!!(null==e?void 0:e.accessToken),r=(0,j.useQueryClient)();(0,A.useRouter)();let[l,s]=(0,u.useState)(!1),[n,c]=(0,u.useState)(!1),[d,h]=(0,u.useState)(null),[p,m]=(0,u.useState)({name:"",employeeNo:"",positionLabel:"",titleLabel:"",phone:"",email:"",termStartDate:new Date().toISOString().split("T")[0],termEndDate:""}),[y,b]=(0,u.useState)(!1),[f,v]=(0,u.useState)(null),[g,x]=(0,u.useState)({name:"",evaluationStatus:""}),[w,O]=(0,u.useState)([]),[D,L]=(0,u.useState)({page:1,take:15,total:0,pageCount:0}),R={page:D.page,take:D.take,name:g.name||void 0,evaluationStatus:g.evaluationStatus||void 0},q=e=>{v(e),b(!0)},P=[{key:"name",header:"이름",visible:!0,render:(e,t)=>(0,i.jsx)("button",{onClick:()=>q(t),className:"text-blue-600 hover:text-blue-800 text-base transition-colors underline cursor-pointer",title:"상세보기",children:e})},{key:"employeeNo",header:"사번",visible:!0},{key:"positionLabel",header:"직위",visible:!0},{key:"titleLabel",header:"직책",visible:!0},{key:"phone",header:"연락처",visible:!0},{key:"email",header:"이메일",visible:!0},{key:"termStartDate",header:"재임시작일",visible:!1},{key:"termEndDate",header:"재임종료일",visible:!1},{key:"orgReg.managingOrg",header:"관리조직",visible:!1},{key:"orgReg.division",header:"소관부서",visible:!1},{key:"evaluationStatus",header:"평가상태",visible:!0,render:(e,t)=>{let a=e||"NOT_STARTED";return(0,i.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat({NOT_STARTED:"bg-gray-100 text-gray-800",STARTED:"bg-blue-100 text-blue-800",IN_PROGRESS:"bg-yellow-100 text-yellow-800"}[a]||"bg-gray-100 text-gray-800"),children:{NOT_STARTED:"미시작",STARTED:"시작",IN_PROGRESS:"진행중"}[a]||a})}},{key:"detail",header:"상세보기",visible:!0,render:(e,t)=>(0,i.jsx)("button",{onClick:()=>q(t),className:"text-gray-700 hover:text-gray-800 text-base transition-colors px-2 py-1 rounded hover:bg-gray-50 underline",style:{cursor:"pointer"},title:"상세보기",children:"Link"})}],[I,W]=(0,u.useState)(P),{data:U,isLoading:M,error:z,isError:F,isSuccess:K}=(0,o.useQuery)({queryKey:["executives","search",R],queryFn:async()=>{try{var e,t;return await (null!=(t=(e={client:V,query:R}).client)?t:V).get({security:[{scheme:"bearer",type:"http"}],url:"/executives/search",...e})}catch(e){throw e}},enabled:a,staleTime:6e4,refetchOnWindowFocus:!1,retry:1}),{data:B,isLoading:H,error:Q}=(0,o.useQuery)({queryKey:["executives","all-names"],queryFn:async()=>{try{var e,t;return await (null!=(t=(e={client:V}).client)?t:V).get({security:[{scheme:"bearer",type:"http"}],url:"/executives",...e})}catch(e){return null}},enabled:a,staleTime:3e5,refetchOnWindowFocus:!1,retry:1}),G=(0,u.useMemo)(()=>{if(U&&"object"==typeof U){if(U.data&&Array.isArray(U.data))return U.data;if(Array.isArray(U))return U;if(U.response){if(U.data&&Array.isArray(U.data))return U.data;if("object"==typeof U.response&&U.response.data&&Array.isArray(U.response.data))return U.response.data}if(U.data&&"object"==typeof U.data&&!Array.isArray(U.data)){for(let[e,t]of Object.entries(U.data))if(Array.isArray(t))return t}}return[]},[U]);(0,u.useMemo)(()=>{var e;return U&&"object"==typeof U&&(null==(e=U.data)?void 0:e.meta)?U.data.meta:null},[U]),(0,u.useEffect)(()=>{var e;if(U&&"object"==typeof U&&(null==(e=U.data)?void 0:e.meta)){let e=U.data.meta;L(t=>({...t,total:e.total||0,pageCount:e.totalPages||0}))}},[U]),(0,u.useEffect)(()=>{if(B&&"object"==typeof B){let e=[];B.data&&Array.isArray(B.data)?e=B.data:Array.isArray(B)?e=B:B.response&&(B.data&&Array.isArray(B.data)?e=B.data:"object"==typeof B.response&&B.response.data&&Array.isArray(B.response.data)&&(e=B.response.data)),e.length>0&&O(Array.from(new Set(e.map(e=>e.name).filter(e=>e&&e.trim()))).map(e=>({value:e,label:e})))}else console.log("allNamesResult가 없거나 객체가 아님")},[B]);let $=S({mutationFn:async e=>{try{var t,a,r,l,s,n,i,o;if(!e.name||!e.name.trim())throw Error("이름은 필수 입력 항목입니다.");let u={name:e.name.trim(),employeeNo:(null==(t=e.employeeNo)?void 0:t.trim())||"",positionLabel:(null==(a=e.positionLabel)?void 0:a.trim())||"",titleLabel:(null==(r=e.titleLabel)?void 0:r.trim())||"",phone:(null==(l=e.phone)?void 0:l.trim())||"",email:(null==(s=e.email)?void 0:s.trim())||"",termStartDate:e.termStartDate||new Date().toISOString().split("T")[0],termEndDate:(null==(n=e.termEndDate)?void 0:n.trim())||void 0},c=await (null!=(o=(i={client:V,body:u}).client)?o:V).post({security:[{scheme:"bearer",type:"http"}],url:"/executives",...i,headers:{"Content-Type":"application/json",...i.headers}});if(c&&"object"==typeof c&&"response"in c){let e=c.response;if(e&&e.status>=400)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText||"Bad Request"))}return c}catch(e){throw e}},onSuccess:e=>{r.invalidateQueries({queryKey:["executives"]}),s(!1),m({name:"",employeeNo:"",positionLabel:"",titleLabel:"",phone:"",email:"",termStartDate:new Date().toISOString().split("T")[0],termEndDate:""}),alert("임원이 성공적으로 추가되었습니다.")},onError:e=>{var t,a;let r=(null==e||null==(a=e.response)||null==(t=a.data)?void 0:t.message)||(null==e?void 0:e.message)||"임원 추가 중 오류가 발생했습니다.";alert("오류: ".concat(r))}}),X=S({mutationFn:async e=>{try{var t,a;if(!e.name)throw Error("이름은 필수 입력 항목입니다.");let r={name:e.name,employeeNo:e.employeeNo||void 0,positionLabel:e.positionLabel||void 0,titleLabel:e.titleLabel||void 0,phone:e.phone||void 0,email:e.email||void 0,termStartDate:e.termStartDate||void 0,termEndDate:e.termEndDate||void 0};return await (null!=(a=(t={client:V,path:{id:e.id},body:r}).client)?a:V).patch({security:[{scheme:"bearer",type:"http"}],url:"/executives/{id}",...t,headers:{"Content-Type":"application/json",...t.headers}})}catch(e){throw e}},onSuccess:()=>{r.invalidateQueries({queryKey:["executives"]}),c(!1),h(null),alert("임원 정보가 성공적으로 수정되었습니다.")},onError:e=>{var t,a;let r=(null==e||null==(a=e.response)||null==(t=a.data)?void 0:t.message)||(null==e?void 0:e.message)||"임원 수정 중 오류가 발생했습니다.";alert("오류: ".concat(r))}}),Y=S({mutationFn:async e=>{try{return await J({client:V,path:{id:e}})}catch(e){throw e}},onSuccess:()=>{r.invalidateQueries({queryKey:["executives"]}),alert("임원이 성공적으로 삭제되었습니다.")},onError:e=>{var t,a;let r=(null==e||null==(a=e.response)||null==(t=a.data)?void 0:t.message)||(null==e?void 0:e.message)||"임원 삭제 중 오류가 발생했습니다.";alert("오류: ".concat(r))}}),Z=async e=>{if(0===e.length)return void alert("삭제할 항목을 선택해주세요.");if(confirm("선택된 ".concat(e.length,"명의 임원을 삭제하시겠습니까?")))try{let t=e.map(e=>J({client:V,path:{id:e}}));await Promise.all(t),r.invalidateQueries({queryKey:["executives"]}),alert("".concat(e.length,"명의 임원이 성공적으로 삭제되었습니다."))}catch(r){var t,a;let e=(null==r||null==(a=r.response)||null==(t=a.data)?void 0:t.message)||(null==r?void 0:r.message)||"선택 삭제 중 오류가 발생했습니다.";alert("오류: ".concat(e))}},ee=e=>{h(e),c(!0)},et=e=>{confirm("정말 삭제하시겠습니까?")&&Y.mutate(e)},ea=(0,u.useMemo)(()=>Array.isArray(G)&&0!==G.length?G.map(e=>{var t;let a=(null==(t=e.evaluation)?void 0:t.status)||"NOT_STARTED";return{...e,evaluationStatus:a,actions:(0,i.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,i.jsx)("button",{onClick:()=>ee(e),className:"text-navy-600 hover:text-navy-800 text-sm transition-colors px-2 py-1 rounded hover:bg-navy-50 flex items-center cursor-pointer",title:"수정",children:(0,i.jsx)(k.default,{className:"h-4 w-4"})}),(0,i.jsx)("button",{onClick:()=>et(e.id),disabled:Y.isPending,className:"text-red-500 hover:text-red-700 disabled:text-gray-400 text-sm transition-colors px-2 py-1 rounded hover:bg-red-50 flex items-center cursor-pointer",title:"삭제",children:(0,i.jsx)(E.default,{className:"h-4 w-4"})})]})}}):[],[G,ee,et,Y.isPending]);return z||F?(0,i.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),(0,i.jsx)("p",{className:"text-red-600 text-lg mb-2",children:"데이터 로드 중 오류가 발생했습니다"}),(0,i.jsx)("p",{className:"text-gray-600 text-sm",children:(null==z?void 0:z.message)||"알 수 없는 오류"})]})}):(0,i.jsxs)("div",{className:"space-y-6",children:[n&&d&&(0,i.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border",children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"임원 정보 수정"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["이름 ",(0,i.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,i.jsx)("input",{type:"text",placeholder:"이름을 입력하세요",value:d.name,onChange:e=>h({...d,name:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사번"}),(0,i.jsx)("input",{type:"text",placeholder:"사번을 입력하세요",value:d.employeeNo||"",onChange:e=>h({...d,employeeNo:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"직위"}),(0,i.jsx)("input",{type:"text",placeholder:"직위를 입력하세요",value:d.positionLabel||"",onChange:e=>h({...d,positionLabel:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"직책"}),(0,i.jsx)("input",{type:"text",placeholder:"직책을 입력하세요",value:d.titleLabel||"",onChange:e=>h({...d,titleLabel:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"연락처"}),(0,i.jsx)("input",{type:"tel",placeholder:"연락처를 입력하세요",value:d.phone||"",onChange:e=>h({...d,phone:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이메일"}),(0,i.jsx)("input",{type:"email",placeholder:"이메일을 입력하세요",value:d.email||"",onChange:e=>h({...d,email:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"재임시작일"}),(0,i.jsx)("input",{type:"date",value:d.termStartDate||"",onChange:e=>h({...d,termStartDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"재임종료일"}),(0,i.jsx)("input",{type:"date",value:d.termEndDate||"",onChange:e=>h({...d,termEndDate:e.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),(0,i.jsxs)("div",{className:"flex space-x-2 ",children:[(0,i.jsx)("button",{onClick:()=>{d&&d.name?X.mutate(d):alert("이름은 필수 입력 항목입니다.")},disabled:X.isPending||!d.name.trim(),className:"bg-blue-500 hover:bg-blue-600 disabled:bg-gray-400 text-white px-4 py-2 rounded-lg transition-colors flex items-center ",children:X.isPending?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"수정 중..."]}):"수정"}),(0,i.jsx)("button",{onClick:()=>{c(!1),h(null)},className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-lg transition-colors cursor-pointer",children:"취소"})]})]}),z&&(0,i.jsx)("div",{className:"text-center py-8",children:(0,i.jsx)("div",{className:"text-red-600 mb-4",children:"데이터 로딩 실패"})}),(0,i.jsx)(_.DataTable,{data:ea,columns:I,className:"w-full",onColumnsChange:e=>{W(e)},isLoading:M,searchFilters:g,onFilterChange:(e,t)=>{x(a=>({...a,[e]:t})),L(e=>({...e,page:1}))},filters:[{key:"name",label:"이름",type:"dropdown",placeholder:"모든 이름",width:"w-40"},{key:"evaluationStatus",label:"평가상태",type:"dropdown",placeholder:"모든 상태",width:"w-32"}],filterOptions:{name:w,evaluationStatus:[{value:"NOT_STARTED",label:"미시작"},{value:"STARTED",label:"시작"},{value:"IN_PROGRESS",label:"진행중"}]},onBulkDelete:Z,onSelectionReset:()=>{console.log("선택 상태가 초기화되었습니다.")},enableBulkDelete:!0,enableRowSelection:!0,enableAddForm:!0,showAddForm:l,onShowAddForm:()=>{if(l)s(!1),m({name:"",employeeNo:"",positionLabel:"",titleLabel:"",phone:"",email:"",termStartDate:"",termEndDate:""});else{let e=new Date().toISOString().split("T")[0];s(!0),m({name:"",employeeNo:"",positionLabel:"",titleLabel:"",phone:"",email:"",termStartDate:e,termEndDate:""})}},formData:p,formFields:[{key:"name",label:"이름",type:"text",placeholder:"이름을 입력하세요",required:!0},{key:"employeeNo",label:"사번",type:"text",placeholder:"사번을 입력하세요"},{key:"positionLabel",label:"직위",type:"text",placeholder:"직위를 입력하세요"},{key:"titleLabel",label:"직책",type:"text",placeholder:"직책을 입력하세요"},{key:"phone",label:"연락처",type:"tel",placeholder:"연락처를 입력하세요"},{key:"email",label:"이메일",type:"email",placeholder:"이메일을 입력하세요"},{key:"termStartDate",label:"재임시작일",type:"date"},{key:"termEndDate",label:"재임종료일",type:"date"}],onFormDataChange:(e,t)=>{m(a=>({...a,[e]:t}))},onAdd:()=>{if(!p.name||!p.name.trim())return void alert("이름은 필수 입력 항목입니다.");$.mutate(p)},isAddLoading:$.isPending,isNameValid:p.name.trim().length>0,showActionColumn:!0}),(0,i.jsx)(T.Pagination,{currentPage:D.page,totalPages:D.pageCount,onPageChange:e=>{L(t=>({...t,page:e}))}}),(0,i.jsx)(C.default,{executive:f,isOpen:y,onClose:()=>{b(!1),v(null)}})]})}}]);