module.exports=[86875,a=>{"use strict";a.s(["DataTable",()=>q]);var b=a.i(9076),c=a.i(31096),d=a.i(68969),e=a.i(21570),f=a.i(73728),g=a.i(20787),h=a.i(53554),i=a.i(76504),j=a.i(40695),k=a.i(5522),l=a.i(65733),m=a.i(5838),n=a.i(97895);let o=a=>String(a.id??a.code??a.name??""),p=c.memo(function({onCopyId:a,onViewCustomer:c,onViewDetails:e}){return(0,b.jsxs)(i.DropdownMenu,{children:[(0,b.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(j.Button,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-muted",children:[(0,b.jsx)(d.MoreHorizontal,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"액션 메뉴 열기"})]})}),(0,b.jsxs)(i.DropdownMenuContent,{align:"end",className:"w-48",children:[(0,b.jsx)(i.DropdownMenuItem,{onClick:a,className:"cursor-pointer",children:"ID 복사"}),(0,b.jsx)(i.DropdownMenuItem,{onClick:c,className:"cursor-pointer",children:"고객 보기"}),(0,b.jsx)(i.DropdownMenuItem,{onClick:e,className:"cursor-pointer",children:"상세 정보 보기"})]})]})});function q({data:a,columns:d,onColumnsChange:q,className:r,isLoading:s,searchFilters:t,onFilterChange:u,filterOptions:v,filters:w,onBulkDelete:x,onSelectionReset:y,enableBulkDelete:z=!0,enableRowSelection:A=!0,enableAddForm:B,showAddForm:C,onShowAddForm:D,formData:E,formFields:F,onFormDataChange:G,onAdd:H,isAddLoading:I,isNameValid:J,enableAddFormV2:K,addFormV2Modal:L,onShowAddFormV2:M,showActionColumn:N=!0}){let[O,P]=(0,c.useState)(new Set),[Q,R]=(0,c.useState)({}),S=(0,c.useMemo)(()=>d.filter(a=>a.visible),[d]),T=(0,c.useMemo)(()=>a.map(a=>o(a)),[a]),U=(0,c.useCallback)((a,b)=>{R(c=>({...c,[a]:b}))},[]),V=(0,c.useCallback)(a=>{let b=(Q[a]||"").toLowerCase(),c=v?.[a]??[];return b?c.filter(a=>a.label.toLowerCase().includes(b)):c},[Q,v]),W=(0,c.useCallback)(a=>{!0===a?P(new Set(T)):P(new Set)},[T]),X=(0,c.useCallback)((a,b)=>{P(c=>{let d=new Set(c);return b?d.add(a):d.delete(a),d})},[]),Y=(0,c.useCallback)(a=>{q(d.map(b=>b.key===a?{...b,visible:!b.visible}:b))},[d,q]),Z=(0,c.useCallback)(()=>{if(!x)return;let a=Array.from(O);0!==a.length&&(x(a),P(new Set),y?.())},[x,O,y]),$=(0,c.useCallback)((a,b,c)=>{let d=a[c][b],e=1;for(let f=c+1;f<a.length;f++)if(a[f][b]===d)e++;else break;return e},[]),_=(0,c.useCallback)((a,b,c)=>0===c||a[c][b]!==a[c-1][b],[]);return(0,b.jsxs)("div",{className:(0,n.cn)("space-y-4",r),children:[(0,b.jsx)("div",{className:"p-3 bg-brand-grey-100 border border-brand-grey-200",children:(0,b.jsxs)("div",{className:"grid gap-3",children:[(0,b.jsx)("div",{className:"space-y-4 border-b border-gray-300 pb-3",children:t&&u&&(0,b.jsxs)("div",{className:"flex items-end gap-4",children:[(0,b.jsx)("div",{className:"flex-1 grid grid-cols-4 gap-4",children:w?.map(a=>{let c=t[a.key]||"";if("dropdown"===a.type){let d=v?.[a.key]||[],f=d.find(a=>a.value===c)?.label||c,g=c&&""!==c;return(0,b.jsxs)("div",{className:"grid grid-cols-3 items-center space-x-3",children:[(0,b.jsx)("label",{className:`text-sm font-medium whitespace-nowrap col-span-1 ${g?"text-brand-500":"text-gray-700"}`,children:a.label}),(0,b.jsx)("div",{className:"col-span-2",children:(0,b.jsxs)(i.DropdownMenu,{children:[(0,b.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(j.Button,{variant:"outline",className:`h-10 px-4 w-full justify-between ${g?"border-brand-500/80 text-brand-500 hover:bg-brand-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,b.jsx)("span",{className:"truncate flex-1 text-left",children:c?f:"전체선택"}),(0,b.jsx)(e.ChevronDown,{className:"ml-2 h-4 w-4 flex-shrink-0"})]})}),(0,b.jsxs)(i.DropdownMenuContent,{align:"start",className:"w-48 max-h-60 overflow-y-auto",children:[(0,b.jsx)("div",{className:"p-2 border-b",children:(0,b.jsx)(k.Input,{type:"text",placeholder:`${a.label} 검색...`,className:"h-8 text-sm",value:Q[a.key]||"",onChange:b=>U(a.key,b.target.value)})}),(0,b.jsx)(i.DropdownMenuItem,{onClick:()=>u(a.key,""),className:"cursor-pointer",children:(0,b.jsx)("div",{className:"w-full truncate",children:"전체선택"})}),(0,b.jsx)(i.DropdownMenuSeparator,{}),V(a.key).map(c=>(0,b.jsx)(i.DropdownMenuItem,{onClick:()=>u(a.key,c.value),className:"cursor-pointer",children:(0,b.jsx)("div",{className:"w-full truncate",children:c.label})},c.value))]})]})})]},a.key)}if("input"===a.type){let d=c&&""!==c;return(0,b.jsxs)("div",{className:"grid grid-cols-3 items-center space-x-3",children:[(0,b.jsx)("label",{className:`text-sm font-medium whitespace-nowrap col-span-1 ${d?"text-brand-500":"text-gray-700"}`,children:a.label}),(0,b.jsx)("div",{className:"col-span-2",children:(0,b.jsx)(k.Input,{type:"text",placeholder:a.placeholder||`${a.label}을 입력하세요`,value:c,onChange:b=>u(a.key,b.target.value),className:`h-10 w-full ${d?"border-brand-500/80 focus:ring-brand-500/20 focus:border-brand-500":""}`})})]},a.key)}if("date"===a.type){let d=c&&""!==c;return(0,b.jsxs)("div",{className:"grid grid-cols-3 items-center space-x-3",children:[(0,b.jsx)("label",{className:`text-sm font-medium whitespace-nowrap col-span-1 ${a.required?"text-orange-600":d?"text-brand-500":"text-gray-700"}`,children:a.label}),(0,b.jsx)("div",{className:"col-span-2",children:(0,b.jsx)(m.StartDateFilter,{startDate:c,onStartDateChange:b=>u(a.key,b),placeholder:a.placeholder||"연도-월-일"})})]},a.key)}return null})}),(0,b.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,b.jsxs)(j.Button,{onClick:()=>console.log("조회 실행:",t),variant:"outline",className:"cursor-pointer border-orange-400 text-orange-600 hover:bg-orange-50 hover:border-orange-500",children:[(0,b.jsx)(f.Search,{className:"h-4 w-4 mr-2 text-orange-600"}),"조회"]}),(0,b.jsxs)(j.Button,{onClick:()=>{u&&Object.keys(t||{}).forEach(a=>{u(a,"")}),R({}),console.log("필터 초기화 완료")},variant:"outline",className:"cursor-pointer border-gray-300 text-gray-600 hover:bg-gray-50",children:[(0,b.jsx)("div",{className:"h-4 w-4 mr-2 text-center",children:"↺"}),"초기화"]})]})]})}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,b.jsx)("h3",{className:"text-base font-semibold text-gray-900",children:"표시할 열"}),(0,b.jsxs)(i.DropdownMenu,{children:[(0,b.jsx)(i.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsxs)(j.Button,{variant:"outline",className:"h-10 px-4 border-gray-200 hover:bg-gray-50 w-40 justify-between",children:[S.length===d.length?"전체선택":1===S.length?S[0].header:`${S.length}개 컬럼`,(0,b.jsx)(e.ChevronDown,{className:"ml-2 h-4 w-4"})]})}),(0,b.jsxs)(i.DropdownMenuContent,{align:"start",className:"w-48",children:[(0,b.jsx)(i.DropdownMenuCheckboxItem,{checked:S.length===d.length,onCheckedChange:a=>{let b=!0===a;q(d.map(a=>({...a,visible:b})))},children:"전체선택"}),(0,b.jsx)(i.DropdownMenuSeparator,{}),d.map(a=>(0,b.jsx)(i.DropdownMenuCheckboxItem,{checked:a.visible,onCheckedChange:()=>Y(a.key),children:a.header},String(a.key)))]})]})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-3",children:[z&&(0,b.jsx)("button",{onClick:Z,disabled:0===O.size||!x,className:(0,n.cn)("px-4 py-2 transition-colors flex items-center justify-center space-x-2 border",O.size>0&&x?"text-[#FD5108] border-[#FD5108]/70 hover:bg-[#FD5108]/10 bg-[#FD5108]/20 cursor-pointer":"text-gray-400 border-gray-300 bg-gray-100 cursor-not-allowed"),children:(0,b.jsxs)("span",{children:["삭제 (",O.size,")"]})}),(0,b.jsx)("button",{className:"bg-green-100 hover:bg-green-200 text-green-700 px-4 py-2 transition-colors cursor-pointer border border-green-300",children:"엑셀 업로드"}),K&&M?(0,b.jsx)("button",{onClick:M,className:"bg-gray-900/60 border border-gray-900/70 hover:bg-gray-800 text-white px-4 py-2 transition-colors cursor-pointer",children:"추가"}):B&&D?(0,b.jsx)("button",{onClick:D,className:"bg-gray-900/60 border border-gray-900/70 hover:bg-gray-800 text-white px-4 py-2 transition-colors cursor-pointer",children:C?"취소":"추가"}):null]})]})]})}),(0,b.jsx)("div",{className:"border-t border-b bg-white w-full",children:(0,b.jsxs)(h.Table,{className:"w-full",children:[(0,b.jsx)(h.TableHeader,{children:(0,b.jsxs)(h.TableRow,{className:"bg-gray-50 hover:bg-gray-50",children:[A&&(0,b.jsx)(h.TableHead,{className:"w-12 p-2 !border-t !border-orange-600",style:{borderTop:"1px solid #ea580c"},children:(0,b.jsx)(g.Checkbox,{checked:O.size===a.length&&a.length>0,onCheckedChange:W,"aria-label":"모든 행 선택",className:"cursor-pointer"})}),S.map((a,c)=>(0,b.jsx)(h.TableHead,{className:(0,n.cn)("p-2 font-semibold text-gray-900 !border-t !border-orange-600",a.separator&&"border-l border-gray-400"),style:{borderTop:"0.5px solid #ea580c"},children:a.header},String(a.key))),N&&(0,b.jsx)(h.TableHead,{className:"w-12 p-2 !border-t !border-orange-600",style:{borderTop:"1px solid #ea580c"},children:"액션"})]})}),(0,b.jsx)(h.TableBody,{children:s?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:S.length+(A?2:1),className:"h-16 text-center text-gray-500",children:(0,b.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),(0,b.jsx)("span",{children:"데이터를 불러오는 중입니다..."})]})})}):0===a.length?(0,b.jsx)(h.TableRow,{children:(0,b.jsx)(h.TableCell,{colSpan:S.length+(A?2:1),className:"h-32 text-center text-gray-500",children:(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-2",children:[(0,b.jsx)("div",{className:"text-gray-400 text-4xl",children:"📋"}),(0,b.jsx)("p",{className:"text-gray-600 text-lg font-medium",children:"표시할 데이터가 없습니다"}),(0,b.jsx)("p",{className:"text-gray-500 text-sm",children:"검색 조건을 변경해보세요"})]})})}):a.map((c,d)=>{let e=o(c),f=A&&O.has(e);return(0,b.jsxs)(h.TableRow,{"data-state":f?"selected":void 0,className:(0,n.cn)("hover:bg-gray-50 transition-colors",f&&"bg-blue-50 hover:bg-blue-100"),children:[A&&(0,b.jsx)(h.TableCell,{className:"p-1.5",children:(0,b.jsx)(g.Checkbox,{checked:O.has(e),onCheckedChange:a=>X(e,a),"aria-label":`${d+1}번째 행 선택`,className:"cursor-pointer"})}),S.map(e=>{let f=e.key,g="jobCode"===f;if(g&&!_(a,f,d))return null;let i=g?$(a,f,d):1;return(0,b.jsx)(h.TableCell,{className:(0,n.cn)("p-2 text-gray-700 text-sm",e.separator&&"border-l border-dashed"),style:e.separator?{borderLeftColor:"#ea580c"}:void 0,rowSpan:i>1?i:void 0,children:e.render?e.render(c[e.key],c):String(c[e.key]??"")},String(e.key))}),N&&(0,b.jsx)(h.TableCell,{className:"p-1.5",children:"actions"in c&&c.actions?c.actions:(0,b.jsx)(p,{onCopyId:()=>console.log("ID 복사:",c.id||c.code),onViewCustomer:()=>console.log("고객 보기:",c),onViewDetails:()=>console.log("상세 정보 보기:",c)})})]},e||d)})})]})}),B&&C&&E&&F&&G&&H&&(0,b.jsx)(l.Dialog,{open:C,onOpenChange:D,children:(0,b.jsxs)(l.DialogContent,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(l.DialogHeader,{children:(0,b.jsx)(l.DialogTitle,{children:"새 항목 추가"})}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F.map(a=>(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[a.label," ",a.required&&(0,b.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,b.jsx)("input",{type:a.type,placeholder:a.placeholder||`${a.label}을 입력하세요`,value:E[a.key]||"",onChange:b=>G(a.key,b.target.value),className:"w-full px-3 py-2 border border-input bg-background focus:ring-2 focus:ring-ring focus:ring-offset-2",required:a.required})]},a.key))}),(0,b.jsxs)("div",{className:"flex justify-end space-x-2 pt-4 border-t",children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:D,disabled:I,children:"취소"}),(0,b.jsx)(j.Button,{onClick:H,disabled:!!I||!J,children:I?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-current mr-2"}),"추가 중..."]}):"추가"})]})]})]})}),K&&L]})}}];

//# sourceMappingURL=components_ui_data-table_tsx_ee61b475._.js.map